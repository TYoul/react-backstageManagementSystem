<<<<<<< HEAD
[{"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\product\\addUpdate\\AddUpdate.tsx":"1","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\picture-wall\\PictureWall.tsx":"2","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\index.tsx":"3","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\product\\reducer.ts":"4","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\login\\Login.tsx":"5","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\container\\Container.tsx":"6","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\category\\reducer.ts":"7","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\category\\constants.ts":"8","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\header\\Header.tsx":"9","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\user\\User.tsx":"10","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\bar\\Bar.tsx":"11","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\config.ts":"12","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\config\\index.ts":"13","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\reducer.ts":"14","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\left-menu\\LeftMenu.tsx":"15","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\left-menu\\menu-config.js":"16","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\addUpdate.ts":"17","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\App.tsx":"18","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\actions.ts":"19","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\category\\Category.tsx":"20","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\constants.ts":"21","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\home\\Home.tsx":"22","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\role\\Role.tsx":"23","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\hooks.ts":"24","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\login.ts":"25","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\request.ts":"26","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\rich-text-editor\\RichTextEditor.tsx":"27","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\product\\Product.tsx":"28","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\store.ts":"29","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\product.ts":"30","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\product\\actions.ts":"31","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\line\\Line.tsx":"32","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\category.ts":"33","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\category\\actions.ts":"34","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\product\\constants.ts":"35","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\product\\detail\\Detail.tsx":"36"},{"size":5274,"mtime":1613166855742,"results":"37","hashOfConfig":"38"},{"size":3920,"mtime":1613028741384,"results":"39","hashOfConfig":"38"},{"size":306,"mtime":1611389802783,"results":"40","hashOfConfig":"38"},{"size":2746,"mtime":1613166411350,"results":"41","hashOfConfig":"38"},{"size":2475,"mtime":1612764262679,"results":"42","hashOfConfig":"38"},{"size":2702,"mtime":1612461591213,"results":"43","hashOfConfig":"38"},{"size":1441,"mtime":1612084245801,"results":"44","hashOfConfig":"38"},{"size":533,"mtime":1612030408818,"results":"45","hashOfConfig":"38"},{"size":3065,"mtime":1612626934645,"results":"46","hashOfConfig":"38"},{"size":129,"mtime":1611658803140,"results":"47","hashOfConfig":"38"},{"size":126,"mtime":1611503667582,"results":"48","hashOfConfig":"38"},{"size":194,"mtime":1611407749728,"results":"49","hashOfConfig":"38"},{"size":61,"mtime":1612710695385,"results":"50","hashOfConfig":"38"},{"size":1247,"mtime":1611923805561,"results":"51","hashOfConfig":"38"},{"size":1888,"mtime":1612448910947,"results":"52","hashOfConfig":"38"},{"size":1642,"mtime":1611735319628,"results":"53","hashOfConfig":"38"},{"size":232,"mtime":1612762706876,"results":"54","hashOfConfig":"38"},{"size":408,"mtime":1611509362637,"results":"55","hashOfConfig":"56"},{"size":1633,"mtime":1611511961949,"results":"57","hashOfConfig":"56"},{"size":4335,"mtime":1612631447377,"results":"58","hashOfConfig":"38"},{"size":133,"mtime":1611488934222,"results":"59","hashOfConfig":"38"},{"size":129,"mtime":1611504166763,"results":"60","hashOfConfig":"38"},{"size":129,"mtime":1611503683657,"results":"61","hashOfConfig":"38"},{"size":207,"mtime":1611386960548,"results":"62","hashOfConfig":"38"},{"size":203,"mtime":1611393504677,"results":"63","hashOfConfig":"38"},{"size":1527,"mtime":1611513113892,"results":"64","hashOfConfig":"38"},{"size":1747,"mtime":1613163284907,"results":"65","hashOfConfig":"38"},{"size":6125,"mtime":1613166730045,"results":"66","hashOfConfig":"38"},{"size":630,"mtime":1612194937193,"results":"67","hashOfConfig":"38"},{"size":2060,"mtime":1613025237271,"results":"68","hashOfConfig":"38"},{"size":4349,"mtime":1613165605360,"results":"69","hashOfConfig":"38"},{"size":129,"mtime":1611503655286,"results":"70","hashOfConfig":"38"},{"size":659,"mtime":1612190512410,"results":"71","hashOfConfig":"38"},{"size":3352,"mtime":1612087025224,"results":"72","hashOfConfig":"38"},{"size":645,"mtime":1613165520007,"results":"73","hashOfConfig":"38"},{"size":2284,"mtime":1612530785274,"results":"74","hashOfConfig":"38"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77"},"1xiz47m",{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"uwf58e",{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"122"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"122"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\product\\addUpdate\\AddUpdate.tsx",["156"],"import React, { useRef, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"../../../redux/hooks\";\r\nimport { useParams, useHistory, useLocation } from \"react-router-dom\";\r\nimport { Card, Button, Form, Input, Select, message } from \"antd\";\r\nimport { ArrowLeftOutlined } from \"@ant-design/icons\";\r\nimport { addProduct, updateProduct } from \"../../../services/product\";\r\n\r\nimport PicturesWall from \"../../../components/picture-wall/PictureWall\";\r\nimport RichTextEditor from \"../../../components/rich-text-editor/RichTextEditor\";\r\n\r\nimport {\r\n  cancelResetRendAction,\r\n  getCategoryListAction,\r\n  updateProductAction,\r\n} from \"../../../redux/product/actions\";\r\n\r\nconst { Option } = Select;\r\ninterface RouteParams {\r\n  id: string;\r\n}\r\n\r\ninterface localtion {\r\n  state: {\r\n    _id: string;\r\n    name: string;\r\n    desc: string;\r\n    price: string;\r\n    imgs: string[];\r\n    detail: string;\r\n  };\r\n}\r\n\r\nconst AddUpdatePage: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const pictureWall = useRef<any>();\r\n  const richTextEditor = useRef<any>();\r\n  const categoryList = useSelector((state) => state.product.categoryList);\r\n\r\n  const history = useHistory();\r\n  const localtion: localtion = useLocation();\r\n  const match = useParams<RouteParams>();\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    dispatch(getCategoryListAction());\r\n    if (match.id) {\r\n      form.setFieldsValue(localtion.state);\r\n      pictureWall.current.setImg(localtion.state.imgs);\r\n      richTextEditor.current.setRichText(localtion.state.detail);\r\n      console.log(localtion.state);\r\n    }\r\n  }, [dispatch]);\r\n\r\n  const layout = {\r\n    labelCol: { span: 2 },\r\n    wrapperCol: { span: 14 },\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    if (errorInfo) return;\r\n  };\r\n\r\n  // form表单提交\r\n  const onFinish = async (values: any) => {\r\n    // 从pictureWall组件中获取到已经上传的图片数组\r\n    const imgs = pictureWall.current.getImg();\r\n    const detail = richTextEditor.current.getRichText();\r\n    let result: any;\r\n    // 判断是否有id，有id的化是修改商品，没有的化是添加商品\r\n    match.id\r\n      ? (result = await updateProduct({\r\n          ...values,\r\n          _id: match.id,\r\n          imgs,\r\n          detail,\r\n        }))\r\n      : await addProduct({ ...values, imgs, detail });\r\n    const { status, msg } = result;\r\n    if (status === 0) {\r\n      message.success(\"添加商品成功\");\r\n      dispatch(updateProductAction(true));\r\n      history.replace(\"/prod/product\");\r\n    } else message.error(msg, 1);\r\n  };\r\n\r\n  function handleChange(value: any) {\r\n    console.log(`selected ${value}`);\r\n  }\r\n\r\n  return (\r\n    <Card\r\n      title={\r\n        <>\r\n          <Button\r\n            type=\"link\"\r\n            className=\"detail-button\"\r\n            onClick={(e) => {\r\n              dispatch(updateProductAction(false));\r\n              dispatch(cancelResetRendAction(false));\r\n              history.goBack();\r\n            }}\r\n          >\r\n            <ArrowLeftOutlined />\r\n          </Button>\r\n          商品{match.id ? \"修改\" : \"详情\"}\r\n        </>\r\n      }\r\n    >\r\n      <Form\r\n        form={form}\r\n        {...layout}\r\n        className=\"basic\"\r\n        initialValues={{ remember: true }}\r\n        onFinishFailed={onFinishFailed}\r\n        onFinish={onFinish}\r\n      >\r\n        <Form.Item\r\n          label=\"商品名称：\"\r\n          name=\"name\"\r\n          rules={[{ required: true, message: \"请输入商品名称\" }]}\r\n        >\r\n          <Input placeholder=\"商品名称\" style={{ width: \"20%\" }} />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"商品描述：\"\r\n          name=\"desc\"\r\n          rules={[{ required: true, message: \"请输入商品描述\" }]}\r\n        >\r\n          <Input placeholder=\"商品描述\" style={{ width: \"20%\" }} />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"商品价格：\"\r\n          name=\"price\"\r\n          rules={[{ required: true, message: \"请输入商品价格\" }]}\r\n        >\r\n          <Input\r\n            placeholder=\"商品价格\"\r\n            prefix=\"￥\"\r\n            suffix=\"元\"\r\n            type=\"number\"\r\n            style={{ width: \"20%\" }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"商品分类：\"\r\n          name=\"categoryId\"\r\n          rules={[{ required: true, message: \"请输入商品分类\" }]}\r\n          initialValue=\"\"\r\n        >\r\n          <Select style={{ width: 120 }} onChange={handleChange}>\r\n            <Option value=\"\">请选择分类</Option>\r\n            {categoryList.map((item: any) => (\r\n              <Option value={item._id} key={item._id}>\r\n                {item.name}\r\n              </Option>\r\n            ))}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item label=\"商品图片：\" name=\"imgs\">\r\n          <PicturesWall ref={pictureWall} />\r\n        </Form.Item>\r\n        <Form.Item label=\"商品详情：\" name=\"detail\" wrapperCol={{ md: 8 }}>\r\n          <RichTextEditor ref={richTextEditor} />\r\n        </Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\" style={{ marginLeft: \"50px\" }}>\r\n          提交\r\n        </Button>\r\n      </Form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AddUpdatePage;\r\n","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\picture-wall\\PictureWall.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\index.tsx",[],["157","158"],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\product\\reducer.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\login\\Login.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\container\\Container.tsx",[],["159","160"],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\category\\reducer.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\category\\constants.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\header\\Header.tsx",[],["161","162"],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\user\\User.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\bar\\Bar.tsx",[],["163","164"],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\config.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\config\\index.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\reducer.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\left-menu\\LeftMenu.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\left-menu\\menu-config.js",[],["165","166"],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\addUpdate.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\App.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\actions.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\category\\Category.tsx",["167"],"import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useDispatch, shallowEqual } from \"react-redux\";\r\nimport { useSelector } from \"../../redux/hooks\";\r\nimport { Button, Card, Table, Modal, Form, Input, message } from \"antd\";\r\nimport { ColumnsType } from \"antd/es/table\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\n\r\nimport { PAGE_SIZE } from \"../../config\";\r\n\r\nimport {\r\n  getCategoryListAction,\r\n  addCategoryAction,\r\n  updateCategoryAction,\r\n  changeModalAction,\r\n} from \"../../redux/category/actions\";\r\n\r\nconst CategoryPage: React.FC = () => {\r\n  // redux hook\r\n  const dispatch = useDispatch();\r\n  const categoryList = useSelector(\r\n    (state) => state.category.categoryList,\r\n    shallowEqual\r\n  );\r\n  const isModalVisible = useSelector(\r\n    (state) => state.category.isModalVisible,\r\n    shallowEqual\r\n  );\r\n  const isLoading = useSelector(\r\n    (state) => state.category.isLoading,\r\n    shallowEqual\r\n  );\r\n\r\n  // 弹窗的标题\r\n  const [modalTitle, setModalTitle] = useState(\"\");\r\n  // 弹窗input值，只在修改分类的弹窗里面有\r\n  const [modalCurrentOperation, setModalCurrentOperation] = useState({\r\n    name: \"\",\r\n    _id: \"\",\r\n  });\r\n  const [form] = Form.useForm();\r\n\r\n  // 在redux中进行网络请求，获取商品分类列表\r\n  useEffect(() => {\r\n    dispatch(getCategoryListAction());\r\n  }, [dispatch]);\r\n\r\n  // table columns数据\r\n  const columns: ColumnsType = [\r\n    {\r\n      key: \"name\",\r\n      title: \"分类名\",\r\n      dataIndex: \"name\",\r\n    },\r\n    {\r\n      key: \"operation\",\r\n      title: \"操作\",\r\n      // dataIndex: \"key\",\r\n      render: (item) => {\r\n        return (\r\n          <>\r\n            <Button\r\n              type=\"link\"\r\n              onClick={(e) => {\r\n                setModalTitle(\"修改分类\");\r\n                showModal(item);\r\n              }}\r\n            >\r\n              修改分类\r\n            </Button>\r\n          </>\r\n        );\r\n      },\r\n      width: \"15%\",\r\n      align: \"center\",\r\n    },\r\n  ];\r\n\r\n  // table 数据\r\n  const data: any[] = categoryList;\r\n\r\n  // 弹窗显示\r\n  const showModal = (item?: any) => {\r\n    if (item) {\r\n      const { name } = item;\r\n      setModalCurrentOperation(item);\r\n      // TODO:当选择修改分类时，用antd的setFieldsValue设置input的默认值\r\n      form.setFieldsValue({\r\n        operation: name,\r\n      });\r\n    }\r\n    dispatch(changeModalAction(true));\r\n  };\r\n\r\n  // 弹窗确定\r\n  const handleOk = async () => {\r\n    try {\r\n      const values = await form.validateFields();\r\n      if (modalTitle === \"修改分类\") {\r\n        const { _id } = modalCurrentOperation;\r\n        const { operation } = values;\r\n        dispatch(\r\n          updateCategoryAction({ categoryId: _id, categoryName: operation })\r\n        );\r\n      } else {\r\n        dispatch(addCategoryAction(values.operation));\r\n        form.resetFields();\r\n      }\r\n    } catch (error) {\r\n      message.warning(\"表单输入有误，请检查\", 1);\r\n      return;\r\n    }\r\n  };\r\n\r\n  // 弹窗取消\r\n  const handleCancel = useCallback(() => {\r\n    form.resetFields();\r\n    dispatch(changeModalAction(false));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Card\r\n        extra={\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={(e) => {\r\n              setModalTitle(\"添加分类\");\r\n              showModal();\r\n            }}\r\n          >\r\n            <PlusOutlined />\r\n            添加分类\r\n          </Button>\r\n        }\r\n      >\r\n        <Table\r\n          columns={columns}\r\n          dataSource={data}\r\n          bordered\r\n          rowKey=\"_id\"\r\n          pagination={{ pageSize: PAGE_SIZE, showQuickJumper: true }}\r\n          loading={isLoading}\r\n        />\r\n      </Card>\r\n      <Modal\r\n        title={modalTitle}\r\n        visible={isModalVisible}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        okText=\"确认\"\r\n        cancelText=\"取消\"\r\n      >\r\n        <Form form={form}>\r\n          <Form.Item\r\n            name=\"operation\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"分类名称必须输入\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"请输入分类名称\" />\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CategoryPage;\r\n",["168","169"],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\constants.ts",[],["170","171"],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\home\\Home.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\role\\Role.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\hooks.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\login.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\request.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\rich-text-editor\\RichTextEditor.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\product\\Product.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\store.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\product.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\product\\actions.ts",["172","173","174","175","176","177","178","179"],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\line\\Line.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\category.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\category\\actions.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\product\\constants.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\product\\detail\\Detail.tsx",["180"],{"ruleId":"181","severity":1,"message":"182","line":53,"column":6,"nodeType":"183","endLine":53,"endColumn":16,"suggestions":"184"},{"ruleId":"185","replacedBy":"186"},{"ruleId":"187","replacedBy":"188"},{"ruleId":"185","replacedBy":"189"},{"ruleId":"187","replacedBy":"190"},{"ruleId":"185","replacedBy":"191"},{"ruleId":"187","replacedBy":"192"},{"ruleId":"185","replacedBy":"193"},{"ruleId":"187","replacedBy":"194"},{"ruleId":"185","replacedBy":"191"},{"ruleId":"187","replacedBy":"192"},{"ruleId":"181","severity":1,"message":"195","line":118,"column":6,"nodeType":"183","endLine":118,"endColumn":8,"suggestions":"196"},{"ruleId":"185","replacedBy":"197"},{"ruleId":"187","replacedBy":"198"},{"ruleId":"185","replacedBy":"199"},{"ruleId":"187","replacedBy":"200"},{"ruleId":"201","severity":1,"message":"202","line":70,"column":7,"nodeType":"203","messageId":"204","endLine":70,"endColumn":27},{"ruleId":"201","severity":1,"message":"205","line":90,"column":14,"nodeType":"203","messageId":"204","endLine":90,"endColumn":36},{"ruleId":"201","severity":1,"message":"206","line":97,"column":14,"nodeType":"203","messageId":"204","endLine":97,"endColumn":37},{"ruleId":"201","severity":1,"message":"207","line":104,"column":14,"nodeType":"203","messageId":"204","endLine":104,"endColumn":35},{"ruleId":"201","severity":1,"message":"208","line":111,"column":14,"nodeType":"203","messageId":"204","endLine":111,"endColumn":33},{"ruleId":"201","severity":1,"message":"209","line":136,"column":14,"nodeType":"203","messageId":"204","endLine":136,"endColumn":32},{"ruleId":"201","severity":1,"message":"210","line":152,"column":14,"nodeType":"203","messageId":"204","endLine":152,"endColumn":36},{"ruleId":"201","severity":1,"message":"211","line":178,"column":14,"nodeType":"203","messageId":"204","endLine":178,"endColumn":35},{"ruleId":"212","severity":1,"message":"213","line":26,"column":9,"nodeType":"203","messageId":"214","endLine":26,"endColumn":15},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'form', 'localtion.state', and 'match.id'. Either include them or remove the dependency array.","ArrayExpression",["215"],"no-native-reassign",["216"],"no-negated-in-lhs",["217"],["216"],["217"],["216"],["217"],["216"],["217"],"React Hook useCallback has missing dependencies: 'dispatch' and 'form'. Either include them or remove the dependency array.",["218"],["216"],["217"],["216"],["217"],"@typescript-eslint/no-redeclare","'productSuccessAction' is already defined.","Identifier","redeclared","'updateSearchTypeAction' is already defined.","'updateSearchValueAction' is already defined.","'cancelResetRendAction' is already defined.","'updateProductAction' is already defined.","'updateStatusAction' is already defined.","'updateSearchListAction' is already defined.","'getCategoryListAction' is already defined.","@typescript-eslint/no-unused-vars","'params' is assigned a value but never used.","unusedVar",{"desc":"219","fix":"220"},"no-global-assign","no-unsafe-negation",{"desc":"221","fix":"222"},"Update the dependencies array to be: [dispatch, form, localtion.state, match.id]",{"range":"223","text":"224"},"Update the dependencies array to be: [dispatch, form]",{"range":"225","text":"226"},[1636,1646],"[dispatch, form, localtion.state, match.id]",[2939,2941],"[dispatch, form]"]
=======
[{"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\product\\addUpdate\\AddUpdate.tsx":"1","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\picture-wall\\PictureWall.tsx":"2","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\index.tsx":"3","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\product\\reducer.ts":"4","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\login\\Login.tsx":"5","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\container\\Container.tsx":"6","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\category\\reducer.ts":"7","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\category\\constants.ts":"8","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\header\\Header.tsx":"9","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\user\\User.tsx":"10","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\bar\\Bar.tsx":"11","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\config.ts":"12","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\config\\index.ts":"13","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\reducer.ts":"14","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\left-menu\\LeftMenu.tsx":"15","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\left-menu\\menu-config.js":"16","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\addUpdate.ts":"17","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\App.tsx":"18","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\actions.ts":"19","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\category\\Category.tsx":"20","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\constants.ts":"21","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\home\\Home.tsx":"22","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\role\\Role.tsx":"23","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\hooks.ts":"24","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\login.ts":"25","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\request.ts":"26","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\rich-text-editor\\RichTextEditor.tsx":"27","C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\product\\Product.tsx":"28"},{"size":4359,"mtime":1612983140340,"results":"29","hashOfConfig":"30"},{"size":3516,"mtime":1612767749595,"results":"31","hashOfConfig":"30"},{"size":306,"mtime":1611389802783,"results":"32","hashOfConfig":"30"},{"size":2515,"mtime":1612542388111,"results":"33","hashOfConfig":"30"},{"size":2475,"mtime":1612764262679,"results":"34","hashOfConfig":"30"},{"size":2702,"mtime":1612461591213,"results":"35","hashOfConfig":"30"},{"size":1441,"mtime":1612084245801,"results":"36","hashOfConfig":"30"},{"size":533,"mtime":1612030408818,"results":"37","hashOfConfig":"38"},{"size":3065,"mtime":1612626934645,"results":"39","hashOfConfig":"30"},{"size":129,"mtime":1611658803140,"results":"40","hashOfConfig":"30"},{"size":126,"mtime":1611503667582,"results":"41","hashOfConfig":"30"},{"size":194,"mtime":1611407749728,"results":"42","hashOfConfig":"30"},{"size":61,"mtime":1612710695385,"results":"43","hashOfConfig":"30"},{"size":1247,"mtime":1611923805561,"results":"44","hashOfConfig":"30"},{"size":1888,"mtime":1612448910947,"results":"45","hashOfConfig":"30"},{"size":1642,"mtime":1611735319628,"results":"46","hashOfConfig":"30"},{"size":232,"mtime":1612762706876,"results":"47","hashOfConfig":"30"},{"size":408,"mtime":1611509362637,"results":"48","hashOfConfig":"38"},{"size":1633,"mtime":1611511961949,"results":"49","hashOfConfig":"38"},{"size":4335,"mtime":1612631447377,"results":"50","hashOfConfig":"38"},{"size":133,"mtime":1611488934222,"results":"51","hashOfConfig":"30"},{"size":129,"mtime":1611504166763,"results":"52","hashOfConfig":"30"},{"size":129,"mtime":1611503683657,"results":"53","hashOfConfig":"30"},{"size":207,"mtime":1611386960548,"results":"54","hashOfConfig":"30"},{"size":203,"mtime":1611393504677,"results":"55","hashOfConfig":"30"},{"size":1527,"mtime":1611513113892,"results":"56","hashOfConfig":"30"},{"size":1321,"mtime":1612982531757,"results":"57","hashOfConfig":"30"},{"size":5716,"mtime":1612982653827,"results":"58","hashOfConfig":"30"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1xiz47m",{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"uwf58e",{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\product\\addUpdate\\AddUpdate.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\picture-wall\\PictureWall.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\index.tsx",[],["117","118"],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\product\\reducer.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\login\\Login.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\container\\Container.tsx",[],["119","120"],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\category\\reducer.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\category\\constants.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\header\\Header.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\user\\User.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\bar\\Bar.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\config.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\config\\index.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\reducer.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\left-menu\\LeftMenu.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\left-menu\\menu-config.js",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\addUpdate.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\App.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\actions.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\category\\Category.tsx",["121"],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\login\\constants.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\home\\Home.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\role\\Role.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\redux\\hooks.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\login.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\services\\request.ts",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\components\\rich-text-editor\\RichTextEditor.tsx",[],"C:\\Users\\Administrator\\Desktop\\ReactTS\\react-ts-project\\src\\pages\\product\\Product.tsx",["122"],{"ruleId":"123","replacedBy":"124"},{"ruleId":"125","replacedBy":"126"},{"ruleId":"123","replacedBy":"127"},{"ruleId":"125","replacedBy":"128"},{"ruleId":"129","severity":1,"message":"130","line":118,"column":6,"nodeType":"131","endLine":118,"endColumn":8,"suggestions":"132"},{"ruleId":"129","severity":1,"message":"133","line":128,"column":6,"nodeType":"131","endLine":128,"endColumn":24,"suggestions":"134"},"no-native-reassign",["135"],"no-negated-in-lhs",["136"],["135"],["136"],"react-hooks/exhaustive-deps","React Hook useCallback has missing dependencies: 'dispatch' and 'form'. Either include them or remove the dependency array.","ArrayExpression",["137"],"React Hook useEffect has a missing dependency: 'list.length'. Either include it or remove the dependency array.",["138"],"no-global-assign","no-unsafe-negation",{"desc":"139","fix":"140"},{"desc":"141","fix":"142"},"Update the dependencies array to be: [dispatch, form]",{"range":"143","text":"144"},"Update the dependencies array to be: [dispatch, isRest, list.length]",{"range":"145","text":"146"},[2939,2941],"[dispatch, form]",[3487,3505],"[dispatch, isRest, list.length]"]
>>>>>>> e5b8827df739b08c4f8df6a021478847a99d18d9
